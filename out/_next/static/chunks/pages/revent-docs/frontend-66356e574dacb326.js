(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[475],{9743:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/revent-docs/frontend",function(){return s(1800)}])},250:function(e,n,s){"use strict";var r=s(5893);n.Z={github:"https://github.com/runtimerevolution/revent-docs",docsRepositoryBase:"https://github.com/runtimerevolution/revent-docs",titleSuffix:" - Revent Docs",nextLinks:!0,prevLinks:!0,darkMode:!0,search:!0,footer:!0,footerText:"Runtime Revolution Photo Contest ".concat((new Date).getFullYear()),logo:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{children:"..."}),(0,r.jsx)("span",{children:"Revent Docs"})]}),head:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{name:"description",content:"Revent: How did we build this project"}),(0,r.jsx)("meta",{name:"og:title",content:"Revent: your best Runtime Event"})]})}},1800:function(e,n,s){"use strict";s.r(n);var r=s(5893),l=s(7829),a=s.n(l),c=s(3805),i=s(250),d=(s(5675),function(e){return(0,c.withSSG)(a()({filename:"frontend.mdx",route:"/revent-docs/frontend",meta:{},pageMap:[{name:"index",route:"/"},{name:"meta.json",meta:{index:"Introduction","revent-docs":"Revent Docs"}},{name:"revent-docs",children:[{name:"backend",route:"/revent-docs/backend"},{name:"frontend",route:"/revent-docs/frontend"},{name:"index",route:"/revent-docs"},{name:"meta.json",meta:{index:"Revent",backend:"API",frontend:"Next"}}],route:"/revent-docs"}]},i.Z))(e)});n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(){var n=Object.assign({h2:"h2",p:"p",a:"a",pre:"pre",code:"code",ul:"ul",li:"li"},e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{children:"How to create the project"}),"\n",(0,r.jsx)(n.p,{children:"Install the following:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://nextjs.org/docs",children:"next.js"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"npx create-next-app@latest\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://jotai.org/docs/introduction",children:"jotai"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"npm install jotai\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://react-hook-form.com/get-started",children:"react-hook-form"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"npm install react-hook-form\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://react-query.tanstack.com/installation",children:"react-query"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"npm i react-query\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In this step, if there are any errors, you might need to downgrade your react version to 17.0.2. To do this go to your ",(0,r.jsx)(n.code,{children:"package.json"})," file and on the dependencies change react and react-dom value to ",(0,r.jsx)(n.code,{children:'"17.0.2"'})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://jestjs.io/docs/getting-started",children:"jest"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"npm install --save-dev jest\n"})}),"\n",(0,r.jsx)(n.p,{children:"After the installation is complete:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"npm run dev"})," to start the development server"]}),"\n",(0,r.jsxs)(n.li,{children:["Visit  ",(0,r.jsx)(n.code,{children:"http://localhost:3000"})," to view the application"]}),"\n",(0,r.jsx)(n.li,{children:"Start coding! :)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{children:"Dockerfile setup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"FROM node:16-alpine AS deps\n"})}),"\n",(0,r.jsx)(n.p,{children:"Installs dependencies only when needed."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"RUN apk add --no-cache libc6-compat\n"})}),"\n",(0,r.jsx)(n.p,{children:"To add the missing shared libraries to your image, adding the libc6-compat package in your Dockerfile is recommended."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"WORKDIR /app\n"})}),"\n",(0,r.jsx)(n.p,{children:"Set the working directory to /app"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"COPY package.json package-lock.json ./ \n"})}),"\n",(0,r.jsxs)(n.p,{children:["Copies the ",(0,r.jsx)(n.code,{children:"package.json"})," and ",(0,r.jsx)(n.code,{children:"package-lock.json"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"RUN npm ci\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Installs all the exact version dependencies or devDependencies from a ",(0,r.jsx)(n.code,{children:"package-lock.json"})," file"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"FROM node:16-alpine AS builder\nWORKDIR /app\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY . .\n"})}),"\n",(0,r.jsx)(n.p,{children:"Rebuilds the source code only when needed"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"RUN npm run build\n"})}),"\n",(0,r.jsx)(n.p,{children:"Creates a build directory with a production build of your app"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"FROM node:16-alpine AS runner\nWORKDIR /app\n"})}),"\n",(0,r.jsx)(n.p,{children:"Production image, copy all the files and run next"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ENV NODE_ENV production\n"})}),"\n",(0,r.jsx)(n.p,{children:"Specifies the environment in which the application is running (usually, development or production)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"RUN addgroup --system --gid 1001 nodejs\nRUN adduser --system --uid 1001 nextjs\n"})}),"\n",(0,r.jsx)(n.p,{children:"Creates a group and an user"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"COPY --from=builder /app/public ./public\nCOPY --from=builder /app/package.json ./package.json\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Copies the app public folder and ",(0,r.jsx)(n.code,{children:"package.json"})," file"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\n"})}),"\n",(0,r.jsx)(n.p,{children:"Automatically leverage output traces to reduce image size"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'USER nextjs\nEXPOSE 3000\nCMD ["node", "server.js"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sets up the USER and EXPOSE variables."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'CMD ["node", "server.js"]\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Runs your app using ",(0,r.jsx)(n.code,{children:"node server.js"}),"."]}),"\n",(0,r.jsx)(n.h2,{children:"Heroku deploy"}),"\n",(0,r.jsx)(n.p,{children:"Since we already have a docker image, we can use it to deploy our app on heroku."}),"\n",(0,r.jsx)(n.p,{children:"Log in to Container Registry"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"heroku container:login\n"})}),"\n",(0,r.jsx)(n.p,{children:"Navigate to the app\u2019s directory and create a Heroku app:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"heroku create\n"})}),"\n",(0,r.jsx)(n.p,{children:"Build the image and push to Container Registry:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"heroku container:push web\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then release the image to your app:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"heroku container:release web\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now open the app in your browser:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"heroku open\n"})})]})};return d?(0,r.jsx)(d,Object.assign({},e,{children:(0,r.jsx)(n,{})})):n()}}},function(e){e.O(0,[58,774,888,179],(function(){return n=9743,e(e.s=n);var n}));var n=e.O();_N_E=n}]);